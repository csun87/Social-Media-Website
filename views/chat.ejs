<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel="stylesheet"
  href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style type="text/css">
  body {
    height: 100%;
  }

  html {
      height: 100%;
  }

  .left{
    height: 100%;
    width: 30%;
    background-color:rgb(54, 52, 52);
    height : 100%;
    color : rgb(167, 87, 87);
  }

  .right{
    height: 100%;
    width: 70%;
    background-color:rgb(61, 58, 58);
    height : 100%;
  }

  
  .card {
    padding-top: 0;  
    height: 87%;
    background-color: rgb(85, 82, 82);
  }

  .form-control {
      background-color: rgb(100, 96, 96);
      color: black;
      border-color: black;
      height:4%;
      max-width: 95%;
  }

  .panel {
    height : 5%;
    background-color: rgb(85, 82, 82);
  }

  .right-bubble {
    padding-left: 2%;
    width : 40%;
    height: 20%;
    background-color: rgb(63, 59, 59);
    color: rgb(232, 235, 235);
    font-size: 120%;
    content: left;
  }

  .flex {
    display: flex;
    flex-direction: row;
  }



</style>
<script src="/socket.io/socket.io.js" type="text/javascript"></script>
<script>
  var socket = io();
  var form = document.getElementById("f");

  form.addEventListener("submit", (x) => {
    x.preventDefault();
    var mes = document.getElementById('message').value;
    console.log(mes);
    if (mes) {
      socket.emit('mes', mes);
      input.value = '';
    }


  })


  socket.on("mes", (m) => {
    var messages = document.getElementById("messageList");
    var item = document.createElement('li');
    item.textContent = m;
    messages.appendChild(item);
    window.scrollTo(0, document.body.scrollHeight);

  })
</script>

</head>

<body>


  <div class="col-lg-6 col-sm-12 left">
    
  </div>

  <div id = "chat-right" class="col-lg-6 col-sm-12 right">
    <div class = "panel">
    </div>
    <div class = "card">
        <div class = "card-body">
          <ul id = "messageList"></ul>
          <p>4</p>

          
            
        </div>
    </div>
    <form id="f" action="" class="flex">
      <input id = "message" type="text" name="message" class = "form-control" placeholder="Type a message..."> </br> 
      <button type="button" class="btn btn-sm btn-secondary btn-lg">Send</button>
    </form>
  </div>

 
		   
</body>
</html>
